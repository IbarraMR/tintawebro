{% extends 'core/base.html' %}
{% block title %}Detalle de Caja{% endblock %}

{% block content %}
<div class="container mt-4 text-white">

    <h2>Detalle de Caja #{{ caja.id_caja }}</h2>

    <p><strong>Saldo inicial:</strong> ${{ caja.saldo_inicial }}</p>
    <p><strong>Fecha apertura:</strong> {{ caja.fecha_hora_apertura|date:"d/m/Y H:i" }}</p>
    <p><strong>Fecha cierre:</strong> {{ caja.fecha_hora_cierre|default:"-"|date:"d/m/Y H:i" }}</p>

    <hr>
    <h4>Movimientos</h4>

    {% if movimientos %}
        <table class="table table-dark table-striped mt-3">
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Tipo</th>
                    <th>Monto</th>
                    <th>Descripci√≥n</th>
                </tr>
            </thead>
            <tbody>
                {% for m in movimientos %}
                <tr>
                    <td>{{ m.fecha_hora|date:"d/m/Y H:i" }}</td>
                    <td>{{ m.get_tipo_display }}</td>
                    <td>$ {{ m.monto }}</td>
                    <td>{{ m.descripcion }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="text-secondary mt-3">No hay movimientos registrados.</p>
    {% endif %}

</div>
{% endblock %}
